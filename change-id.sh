#!/bin/bashif [[ $EUID -ne 0 ]]; thenecho "Dit script moet als root worden uitgevoerd."exit 1firead -p "Huidig ID: " OLD_IDread -p "Nieuw ID: " NEW_IDif pct status $NEW_ID >/dev/null 2>&1 || qm status $NEW_ID >/dev/null 2>&1; thenecho "Fout: ID $NEW_ID is al bezet."exit 1fiWAS_RUNNING=falseif [ -f "/etc/pve/lxc/${OLD_ID}.conf" ]; thenTYPE="lxc"STATUS=$(pct status $OLD_ID | awk '{print $2}')    if [ "$STATUS" == "running" ]; then        WAS_RUNNING=true        echo "LXC $OLD_ID is actief. Afsluiten..."        pct shutdown $OLD_ID        while [ "$(pct status $OLD_ID | awk '{print $2}')" == "running" ]; do            sleep 2        done    fielif [ -f "/etc/pve/qemu-server/${OLD_ID}.conf" ]; thenTYPE="vm"STATUS=$(qm status $OLD_ID | awk '{print $2}')    if [ "$STATUS" == "running" ]; then        WAS_RUNNING=true        echo "VM $OLD_ID is actief. Afsluiten..."        qm shutdown $OLD_ID        while [ "$(qm status $OLD_ID | awk '{print $2}')" == "running" ]; do            sleep 2        done    fielseecho "Fout: ID $OLD_ID niet gevonden."exit 1fiecho "Starten van ID migratie..."if [ "$TYPE" == "lxc" ]; thenpct clone $OLD_ID $NEW_ID --fullif [ $? -eq 0 ]; thenpct destroy $OLD_IDif [ "$WAS_RUNNING" = true ]; thenpct start $NEW_IDfiecho "Klaar! LXC is nu $NEW_ID."fielif [ "$TYPE" == "vm" ]; thenqm clone $OLD_ID $NEW_ID --fullif [ $? -eq 0 ]; thenqm destroy $OLD_IDif [ "$WAS_RUNNING" = true ]; thenqm start $NEW_IDfiecho "Klaar! VM is nu $NEW_ID."fifi